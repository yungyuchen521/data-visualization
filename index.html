<!DOCTYPE html>
<html>
    <head>
        <title>Stacked Bar Chart</title>
        <link rel="stylesheet" href="style.css" />
        <script src="https://unpkg.com/d3@5.6.0/dist/d3.min.js"></script>

        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />

        <script>
            let attr_order = [
                "scores_teaching",
                "scores_research",
                "scores_citations",
                "scores_industry_income",
                "scores_international_outlook",
            ];

            const color_map = {
                scores_teaching: "red",
                scores_research: "yellow",
                scores_citations: "green",
                scores_industry_income: "blue",
                scores_international_outlook: "purple",
            };

            const cols_offset = {
                rank: 0,
                "overall score": 65,
                name: 155,
                details: 400,
            };

            const formatAttr = (attr) => {
                return attr.replace("scores_", "").replace("_", " ");
            };
        </script>
    </head>
    <body onload="handleLoad()">
        <div id="tool-tip"></div>

        <div class="row">
            <h1 id="title">TIMES World University Rankings 2024</h1>
        </div>

        <div class="row">
            <div class="col-sm-2" id="tools" style="height: 800px">
                <div id="sortby-container"></div>

                <div id="asc-desc-container">
                    <input
                        id="asc"
                        type="radio"
                        name="asc-desc"
                        onchange="createPlots()"
                    />
                    <label for="asc">Ascending</label>
                    <input
                        id="desc"
                        type="radio"
                        name="asc-desc"
                        onchange="createPlots()"
                        checked
                    />
                    <label for="desc">Descending</label>
                </div>

                <div id="legend-container">
                    <svg id="legend" width="300" height="400"></svg>
                </div>
            </div>
            <div class="col-sm-9 overflow-scroll" style="height: 800px">
                <svg width="1000" id="plot"></svg>
            </div>
        </div>

        <script src="index.js"></script>
        <script src="headers.js"></script>
        <script src="sort.js"></script>
        <script src="legend.js"></script>
        <script>
            const handleLoad = () => {
                createSorter();
                addLegends();
                createHeaders();
                createPlots();
            };
        </script>
    </body>
</html>
